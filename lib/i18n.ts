"use client";

export type Language = "en" | "mn";

type Dict = Record<string, string>;

const dict: Record<Language, Dict> = {
  en: {
    // Navbar
    "nav.browse": "Browse",
    "nav.createListing": "Create Listing",
    "nav.dashboard": "Dashboard",
    "nav.signIn": "Sign In",
    "nav.signUp": "Sign Up",
    "nav.signOut": "Sign Out",

    // Landing
    "home.badge": "Split subscriptions. Keep it simple.",
    "home.title": "Share subscription costs with trusted groups.",
    "home.subtitle":
      "A minimal marketplace to split services like streaming, music, and software. Clear seats, transparent pricing, and a clean dashboard.",
    "home.ctaPrimary": "Start saving today",
    "home.ctaSecondary": "Browse listings",
    "home.footnote": "No credit card required. Cancel anytime.",
    "home.highlights.clarity.label": "Built for clarity",
    "home.highlights.clarity.value": "Seats, rules, and costs",
    "home.highlights.fast.label": "Fast onboarding",
    "home.highlights.fast.value": "Join or host in minutes",
    "home.highlights.minimal.label": "Startup-simple",
    "home.highlights.minimal.value": "Minimal UI, no fluff",
    "home.how.title": "How it works",
    "home.how.subtitle": "A streamlined flow designed for trust, transparency, and low-friction sharing.",
    "home.how.step1.title": "List or join in minutes",
    "home.how.step1.desc":
      "Browse verified listings or create your own. Clear rules, transparent pricing, no awkward DMs.",
    "home.how.step2.title": "Split costs, stay in control",
    "home.how.step2.desc":
      "Seats and payment responsibilities are explicit. Keep access tidy with a simple dashboard view.",
    "home.how.step3.title": "Pay monthly, cancel anytime",
    "home.how.step3.desc":
      "No long-term contracts. Switch services as your needs change and keep your spend predictable.",
    "home.pricing.title": "Pricing",
    "home.pricing.subtitle": "Start free. Upgrade only if you need more control.",
    "home.pricing.note": "Prices shown in USD.",
    "home.pricing.popular": "Most popular",
    "home.tier.member.name": "Member",
    "home.tier.member.desc": "Join shared subscriptions and manage your seats.",
    "home.tier.member.features.1": "Browse listings",
    "home.tier.member.features.2": "Join requests",
    "home.tier.member.features.3": "Simple dashboard",
    "home.tier.member.features.4": "Email support",
    "home.tier.member.cta": "Browse listings",
    "home.tier.host.name": "Host",
    "home.tier.host.desc": "Create listings and manage groups with confidence.",
    "home.tier.host.features.1": "Create listings",
    "home.tier.host.features.2": "Seat management",
    "home.tier.host.features.3": "Basic verification",
    "home.tier.host.features.4": "Payout tracking",
    "home.tier.host.cta": "Create a listing",
    "home.tier.pro.name": "Pro",
    "home.tier.pro.desc": "For power users sharing across multiple services.",
    "home.tier.pro.features.1": "Priority support",
    "home.tier.pro.features.2": "Advanced rules",
    "home.tier.pro.features.3": "Invite links",
    "home.tier.pro.features.4": "Early access features",
    "home.tier.pro.cta": "Get started",
    "home.final.title": "Ready to cut your subscription spend?",
    "home.final.subtitle":
      "Join a group, or host one. Keep costs fair, seats clear, and management effortless.",
    "home.final.primary": "Create your account",
    "home.final.secondary": "Sign in",

    // Listings / marketplace
    "listings.title": "Subscription marketplace",
    "listings.subtitle": "Find an open seat and start saving. Transparent slots and pricing.",
    "listings.service": "Service",
    "listings.create": "Create listing",
    "listings.allServices": "All services",
    "listings.error.signIn": "Please sign in to join a subscription.",
    "listings.error.generic": "Something went wrong.",
    "listings.empty.title": "No listings found",
    "listings.empty.subtitle.filtered": "Try a different service filter, or create a new listing.",
    "listings.empty.subtitle.all": "Be the first to create one.",
    "listings.empty.clear": "Clear filter",

    // Create listing page
    "create.backToListings": "← Back to listings",
    "create.title": "Create Listing",
    "create.subtitle": "Add a subscription you want to share. You’ll keep 1 slot as the owner.",
    "create.cancel": "Cancel",
    "create.form.serviceName.label": "Service name",
    "create.form.serviceName.placeholder": "e.g. Netflix, Spotify",
    "create.form.totalSlots.label": "Total slots",
    "create.form.totalSlots.hint": "You keep 1 slot; {n} available for others",
    "create.form.monthlyPrice.label": "Monthly price (total)",
    "create.form.monthlyPrice.placeholder": "15.99",
    "create.form.monthlyPrice.perSlot": "Estimated per slot: {price}/month",
    "create.form.monthlyPrice.help": "We’ll calculate per-slot price automatically.",
    "create.form.description.label": "Description (optional)",
    "create.form.description.placeholder":
      "Add payment details, rules, renewal date, or how you share access...",
    "create.form.footerNote":
      "By creating a listing, you agree to share fairly and keep details accurate.",
    "create.form.submit": "Create listing",
    "create.form.submitting": "Creating...",
    "create.preview.title": "Preview",
    "create.preview.subtitle": "This is how your listing will look.",
    "create.preview.serviceFallback": "Service name",
    "create.preview.slots": "{available} of {total} slots available",
    "create.preview.priceFallback": "$0.00",
    "create.preview.perMonthTotal": "/month total",
    "create.preview.descriptionEmpty": "Add a description to share important details.",
    "create.tips.title": "Tips",
    "create.tips.1": "Keep the description short and specific (payment method, rules, renewal).",
    "create.tips.2": "Price is the total subscription cost, not per member.",
    "create.tips.3": "You keep 1 slot automatically as the owner.",

    // Subscription card
    "card.host": "Host: {name}",
    "card.noRatings": "No ratings yet",
    "card.perMonth": "per month",
    "card.slotsAvailable": "{available} / {total} slots available",
    "card.filled": "{percent}% filled",
    "card.seatsAvailable": "Seats available",
    "card.noSeatsLeft": "No seats left",
    "card.join": "Join",
    "card.joining": "Joining...",
    "card.full": "Full",

    // Dashboard
    "dash.title": "Dashboard",
    "dash.subtitle": "Manage what you’ve joined, what you host, and create new listings.",
    "dash.browse": "Browse marketplace",
    "dash.tab.joined": "My subscriptions",
    "dash.tab.created": "My listings",
    "dash.tab.create": "Create new",
    "dash.loading": "Loading...",
    "dash.error.generic": "Failed to load dashboard",
    "dash.joined.empty.title": "No joined subscriptions",
    "dash.joined.empty.subtitle": "Find a seat in the marketplace to start saving.",
    "dash.joined.empty.cta": "Browse listings",
    "dash.created.empty.title": "No listings yet",
    "dash.created.empty.subtitle": "Create your first listing to share a subscription.",
    "dash.created.empty.cta": "Create new listing",
    "dash.create.title": "Create new listing",
    "dash.create.subtitle": "Keep it simple: service, total slots, and total monthly price.",
    "dash.form.service": "Service name",
    "dash.form.totalSlots": "Total slots",
    "dash.form.monthlyPrice": "Monthly price (total)",
    "dash.form.description": "Description (optional)",
    "dash.form.submit": "Create listing",
    "dash.form.submitting": "Creating...",
    "dash.form.error.serviceRequired": "Service name is required.",
    "dash.form.error.slotsRange": "Total slots must be an integer between 2 and 10.",
    "dash.form.error.pricePositive": "Monthly price must be a number greater than 0.",
    "dash.form.error.createFailed": "Failed to create listing",
    "dash.form.seatHint": "You keep 1 seat; {n} available.",
    "dash.form.perSeatHint": "Approx. {price} per seat.",
    "dash.tips.title": "Tips",
    "dash.tips.1": "Keep service names consistent (e.g. “Netflix”).",
    "dash.tips.2": "Set a realistic monthly price and clear expectations.",
    "dash.tips.3": "After creating, share details in the listing page.",

    // Auth
    "auth.login.title": "Welcome back",
    "auth.login.subtitle": "Sign in to manage your subscriptions and listings.",
    "auth.signup.title": "Create your account",
    "auth.signup.subtitle": "Start sharing subscriptions with clear seats and transparent costs.",
    "auth.email": "Email",
    "auth.password": "Password",
    "auth.passwordHint": "Use at least 6 characters. You’ll confirm via email.",
    "auth.signIn": "Sign In",
    "auth.signUp": "Sign Up",
    "auth.signingIn": "Signing in...",
    "auth.creating": "Creating account...",
    "auth.loading": "Loading...",
    "auth.error.generic": "Something went wrong",
    "auth.error.emailRequired": "Email is required.",
    "auth.error.emailInvalid": "Please enter a valid email address.",
    "auth.error.passwordRequired": "Password is required.",
    "auth.error.passwordLength": "Password must be at least 6 characters.",
    "auth.link.noAccount": "Don’t have an account?",
    "auth.link.haveAccount": "Already have an account?",
    "auth.link.toSignup": "Sign up",
    "auth.link.toSignin": "Sign in",
    "auth.emailPlaceholder": "you@example.com",
    "auth.passwordPlaceholder": "At least 6 characters",
    "auth.checkEmail.title": "Check your email",
    "auth.checkEmail.subtitle": "We sent a confirmation link to {email}. Open it to verify your account.",
    "auth.checkEmail.cta": "Back to sign in",
    "auth.error.title": "Authentication error",
    "auth.error.cta": "Back to sign in",

    // Sign out
    "auth.signOut.loading": "Signing out...",

    // Language
    "lang.en": "EN",
    "lang.mn": "MN",
    "lang.label": "Language",
  },
  mn: {
    // Navbar
    "nav.browse": "Үзэх",
    "nav.createListing": "Зар нэмэх",
    "nav.dashboard": "Хянах самбар",
    "nav.signIn": "Нэвтрэх",
    "nav.signUp": "Бүртгүүлэх",
    "nav.signOut": "Гарах",

    // Landing
    "home.badge": "Захиалгаа хуваац. Энгийн байлга.",
    "home.title": "Захиалгын зардлаа итгэлтэйгээр хуваалцаарай.",
    "home.subtitle":
      "Стрийминг, хөгжим, софтвер зэрэг үйлчилгээний төлбөрийг хуваах минимал маркетплейс. Суудал, үнэ, дүрэм — бүгд тодорхой.",
    "home.ctaPrimary": "Өнөөдөр хэмнэж эхлэх",
    "home.ctaSecondary": "Зарууд үзэх",
    "home.footnote": "Карт шаардахгүй. Хэзээд цуцалж болно.",
    "home.highlights.clarity.label": "Тодорхой бүтэц",
    "home.highlights.clarity.value": "Суудал, дүрэм, үнэ",
    "home.highlights.fast.label": "Хурдан эхлэл",
    "home.highlights.fast.value": "Минутын дотор нэгдэх/үүсгэх",
    "home.highlights.minimal.label": "Startup-минимал",
    "home.highlights.minimal.value": "Цэвэр UI, илүүцгүй",
    "home.how.title": "Хэрхэн ажилладаг вэ",
    "home.how.subtitle": "Итгэлцэл, ил тод байдал, хурданд төвлөрсөн урсгал.",
    "home.how.step1.title": "Минутын дотор зарлах эсвэл нэгдэх",
    "home.how.step1.desc":
      "Заруудыг үзээд нэгдэх эсвэл өөрийнхөө зарыг үүсгээрэй. Үнэ ба дүрэм нь тодорхой.",
    "home.how.step2.title": "Зардлаа хувааж, хяналтаа хадгал",
    "home.how.step2.desc":
      "Суудал болон төлбөрийн үүрэг тодорхой. Хянах самбараас бүгдийг удирдана.",
    "home.how.step3.title": "Сар бүр төлөөд, хүссэн үедээ цуцал",
    "home.how.step3.desc":
      "Урт хугацааны гэрээгүй. Хэрэгцээндээ тааруулж үйлчилгээгээ соль.",
    "home.pricing.title": "Үнэ",
    "home.pricing.subtitle": "Үнэгүй эхэл. Илүү удирдлага хэрэгтэй үедээ л шинэчил.",
    "home.pricing.note": "Үнэ USD-ээр.",
    "home.pricing.popular": "Хамгийн түгээмэл",
    "home.tier.member.name": "Гишүүн",
    "home.tier.member.desc": "Хуваалцсан захиалгад нэгдэж суудлаа удирдана.",
    "home.tier.member.features.1": "Зарууд үзэх",
    "home.tier.member.features.2": "Нэгдэх хүсэлт",
    "home.tier.member.features.3": "Энгийн хянах самбар",
    "home.tier.member.features.4": "Имэйл тусламж",
    "home.tier.member.cta": "Зарууд үзэх",
    "home.tier.host.name": "Хост",
    "home.tier.host.desc": "Зар үүсгээд бүлгээ итгэлтэй удирдаарай.",
    "home.tier.host.features.1": "Зар үүсгэх",
    "home.tier.host.features.2": "Суудал удирдах",
    "home.tier.host.features.3": "Энгийн баталгаажуулалт",
    "home.tier.host.features.4": "Төлбөрийн хяналт",
    "home.tier.host.cta": "Зар үүсгэх",
    "home.tier.pro.name": "Pro",
    "home.tier.pro.desc": "Олон үйлчилгээ хуваалцдаг power хэрэглэгчдэд.",
    "home.tier.pro.features.1": "Түрүүлж тусламж",
    "home.tier.pro.features.2": "Нэмэлт дүрэм",
    "home.tier.pro.features.3": "Урих холбоос",
    "home.tier.pro.features.4": "Эрт боломжууд",
    "home.tier.pro.cta": "Эхлэх",
    "home.final.title": "Захиалгын зардлаа бууруулахад бэлэн үү?",
    "home.final.subtitle":
      "Бүлэгт нэгд, эсвэл өөрөө хостло. Суудал тодорхой, үнэ шударга, удирдлага амар.",
    "home.final.primary": "Бүртгэл үүсгэх",
    "home.final.secondary": "Нэвтрэх",

    // Listings / marketplace
    "listings.title": "Захиалгын маркетплейс",
    "listings.subtitle": "Сул суудал олж нэгдээрэй. Суудал ба үнэ ил тод.",
    "listings.service": "Үйлчилгээ",
    "listings.create": "Зар нэмэх",
    "listings.allServices": "Бүх үйлчилгээ",
    "listings.error.signIn": "Нэгдэхийн тулд нэвтэрнэ үү.",
    "listings.error.generic": "Алдаа гарлаа.",
    "listings.empty.title": "Зар олдсонгүй",
    "listings.empty.subtitle.filtered": "Өөр үйлчилгээ сонгох эсвэл шинэ зар үүсгээрэй.",
    "listings.empty.subtitle.all": "Анхны зарыг үүсгээрэй.",
    "listings.empty.clear": "Шүүлт цэвэрлэх",

    // Create listing page
    "create.backToListings": "← Зарууд руу буцах",
    "create.title": "Зар үүсгэх",
    "create.subtitle": "Хуваалцах захиалгаа нэмээрэй. Та хост тул 1 суудлыг өөрөө авна.",
    "create.cancel": "Болих",
    "create.form.serviceName.label": "Үйлчилгээний нэр",
    "create.form.serviceName.placeholder": "ж. Netflix, Spotify",
    "create.form.totalSlots.label": "Нийт суудал",
    "create.form.totalSlots.hint": "Та 1 суудалтай; бусдад {n} боломжтой",
    "create.form.monthlyPrice.label": "Сарын үнэ (нийт)",
    "create.form.monthlyPrice.placeholder": "15.99",
    "create.form.monthlyPrice.perSlot": "Нэг суудлын үнэ: {price}/сар (ойролцоогоор)",
    "create.form.monthlyPrice.help": "Нэг суудлын үнийг автоматаар тооцно.",
    "create.form.description.label": "Тайлбар (сонголтоор)",
    "create.form.description.placeholder":
      "Төлбөрийн нөхцөл, дүрэм, сунгалтын өдөр, хэрхэн хуваалцах зэргийг бичээрэй...",
    "create.form.footerNote": "Зар үүсгэснээр та шударгаар хуваалцах ба мэдээллээ үнэн зөв байлгахыг зөвшөөрнө.",
    "create.form.submit": "Зар нэмэх",
    "create.form.submitting": "Үүсгэж байна...",
    "create.preview.title": "Урьдчилан харах",
    "create.preview.subtitle": "Таны зар ингэж харагдана.",
    "create.preview.serviceFallback": "Үйлчилгээний нэр",
    "create.preview.slots": "{available} / {total} суудал боломжтой",
    "create.preview.priceFallback": "$0.00",
    "create.preview.perMonthTotal": "/сар (нийт)",
    "create.preview.descriptionEmpty": "Чухал мэдээллээ хуваалцахын тулд тайлбар нэмээрэй.",
    "create.tips.title": "Зөвлөгөө",
    "create.tips.1": "Тайлбараа товч, тодорхой бич (төлбөр, дүрэм, сунгалт гэх мэт).",
    "create.tips.2": "Үнэ нь нэг хүний биш, захиалгын нийт төлбөр.",
    "create.tips.3": "Та хост тул 1 суудлыг автоматаар авна.",

    // Subscription card
    "card.host": "Хост: {name}",
    "card.noRatings": "Үнэлгээ алга",
    "card.perMonth": "сар бүр",
    "card.slotsAvailable": "{available} / {total} суудал боломжтой",
    "card.filled": "{percent}% дүүрсэн",
    "card.seatsAvailable": "Суудал байна",
    "card.noSeatsLeft": "Суудал дууссан",
    "card.join": "Нэгдэх",
    "card.joining": "Нэгдэж байна...",
    "card.full": "Дүүрсэн",

    // Dashboard
    "dash.title": "Хянах самбар",
    "dash.subtitle": "Нэгдсэн захиалга, өөрийн зарууд, шинэ зар үүсгэлтээ удирдаарай.",
    "dash.browse": "Маркетплейс үзэх",
    "dash.tab.joined": "Миний захиалгууд",
    "dash.tab.created": "Миний зарууд",
    "dash.tab.create": "Шинэ зар",
    "dash.loading": "Уншиж байна...",
    "dash.error.generic": "Хянах самбар ачааллахад алдаа гарлаа",
    "dash.joined.empty.title": "Нэгдсэн захиалга алга",
    "dash.joined.empty.subtitle": "Маркетплейсээс суудал олж нэгдээрэй.",
    "dash.joined.empty.cta": "Зарууд үзэх",
    "dash.created.empty.title": "Зар үүсгээгүй байна",
    "dash.created.empty.subtitle": "Анхны зарыг үүсгээд хуваалцаж эхлээрэй.",
    "dash.created.empty.cta": "Шинэ зар үүсгэх",
    "dash.create.title": "Шинэ зар үүсгэх",
    "dash.create.subtitle": "Энгийнээр: үйлчилгээ, нийт суудал, сарын нийт үнэ.",
    "dash.form.service": "Үйлчилгээний нэр",
    "dash.form.totalSlots": "Нийт суудал",
    "dash.form.monthlyPrice": "Сарын үнэ (нийт)",
    "dash.form.description": "Тайлбар (сонголтоор)",
    "dash.form.submit": "Зар нэмэх",
    "dash.form.submitting": "Үүсгэж байна...",
    "dash.form.error.serviceRequired": "Үйлчилгээний нэр шаардлагатай.",
    "dash.form.error.slotsRange": "Нийт суудал 2-10 хооронд бүхэл тоо байна.",
    "dash.form.error.pricePositive": "Сарын үнэ 0-ээс их тоо байна.",
    "dash.form.error.createFailed": "Зар үүсгэж чадсангүй",
    "dash.form.seatHint": "Та 1 суудалтай; {n} боломжтой.",
    "dash.form.perSeatHint": "Ойролцоогоор {price} / суудал.",
    "dash.tips.title": "Зөвлөгөө",
    "dash.tips.1": "Нэршлээ тогтвортой бичээрэй (ж. “Netflix”).",
    "dash.tips.2": "Бодитой үнэ болон хүлээлтийг тодорхой болгоорой.",
    "dash.tips.3": "Үүсгэсний дараа дэлгэрэнгүйг зараа дотор нэмээрэй.",

    // Auth
    "auth.login.title": "Тавтай морил",
    "auth.login.subtitle": "Захиалга болон заруудаа удирдахын тулд нэвтэрнэ үү.",
    "auth.signup.title": "Бүртгэл үүсгэх",
    "auth.signup.subtitle": "Тодорхой суудал, ил тод үнээр хуваалцаж эхлээрэй.",
    "auth.email": "Имэйл",
    "auth.password": "Нууц үг",
    "auth.passwordHint": "Доод тал нь 6 тэмдэгт. Имэйлээр баталгаажуулна.",
    "auth.signIn": "Нэвтрэх",
    "auth.signUp": "Бүртгүүлэх",
    "auth.signingIn": "Нэвтэрч байна...",
    "auth.creating": "Бүртгэж байна...",
    "auth.loading": "Уншиж байна...",
    "auth.error.generic": "Алдаа гарлаа",
    "auth.error.emailRequired": "Имэйл шаардлагатай.",
    "auth.error.emailInvalid": "Зөв имэйл хаяг оруулна уу.",
    "auth.error.passwordRequired": "Нууц үг шаардлагатай.",
    "auth.error.passwordLength": "Нууц үг дор хаяж 6 тэмдэгт байна.",
    "auth.link.noAccount": "Бүртгэлгүй юу?",
    "auth.link.haveAccount": "Бүртгэлтэй юу?",
    "auth.link.toSignup": "Бүртгүүлэх",
    "auth.link.toSignin": "Нэвтрэх",
    "auth.emailPlaceholder": "you@example.com",
    "auth.passwordPlaceholder": "Доод тал нь 6 тэмдэгт",
    "auth.checkEmail.title": "Имэйлээ шалгана уу",
    "auth.checkEmail.subtitle": "{email} хаяг руу баталгаажуулах холбоос илгээлээ.",
    "auth.checkEmail.cta": "Нэвтрэх рүү буцах",
    "auth.error.title": "Нэвтрэлт алдаа гарлаа",
    "auth.error.cta": "Нэвтрэх рүү буцах",

    // Sign out
    "auth.signOut.loading": "Гарч байна...",

    // Language
    "lang.en": "EN",
    "lang.mn": "MN",
    "lang.label": "Хэл",
  },
};

export function getDefaultLanguage(): Language {
  if (typeof window === "undefined") return "en";
  const stored = localStorage.getItem("lang");
  if (stored === "en" || stored === "mn") return stored;
  const browser = navigator.language?.toLowerCase?.() ?? "en";
  return browser.startsWith("mn") ? "mn" : "en";
}

export function translate(lang: Language, key: string, vars?: Record<string, string | number>) {
  const template = dict[lang][key] ?? dict.en[key] ?? key;
  if (!vars) return template;
  return template.replace(/\{(\w+)\}/g, (_, k: string) => String(vars[k] ?? `{${k}}`));
}

